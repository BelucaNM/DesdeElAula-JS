<!DOCTYPE html>
<html>
    <head>
        <Title > Formulario en el que se lanza un escucha sobre un input 
            de manera que si se detecta una entrada se hace una validacion y se pueden personalizar los mensajes</Title>

    </head>
    <body>
        <form name="miForm" method="get">
<!-- >           <input type="text" id="name" required> <-->

            Nombre <input type="text" id="name" name="name" required minlength="4" maxlength="5" placeholder="introducir nombre">
            Edad   <input type="number" id = "edat" name="edad" required placeholder="introducir edad">
            <input type="submit" value="send">
<!-- >            <button> Enviar </button> Es equivalente al input submit<-->

        </form>
        <script>
//Propuesta Ikram
/*
         let laEdad = document.getElementById ("edat")
            laEdad.addEventListener('input',() => { 
                laEdad.setCustomValidity('')
                laEdad.checkValidity()
            
            })
            
            laEdad.addEventListener('invalid',() => { 
                laEdad.setCustomValidity('Este campo es obligatorio. Rellenelo')
            })
*/

            let miInput = document.getElementById ("name")
            miInput.addEventListener('input',() => { 
                miInput.setCustomValidity('') // inicializa el mensaje de error
                const validityState = miInput.validity;
                console.log(validityState);
                miInput.checkValidity(); //lanza un evento de invalid
            
            })
            // Para cambiar el mensaje defecto
            miInput.addEventListener('invalid',() => { 
            miInput.setCustomValidity('Este campo es obligatorio. Rellenelo')
            }) 





        </script>
    </body>

</html>