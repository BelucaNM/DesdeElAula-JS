<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
        <!-- > Formulario ejercicio en aula
            nombre obligatorio solo letras
            edad oligatorio solo numero
            email opcional formato email
            aceptar politicas obligatorio
            imagen de producto peso del archivo 2M extension jpg,jpeg, png
            <-->
    
        <form name="miForm" method="get">

            <input type="text" id="name" name="name" pattern="[A-Za-z ]+" required placeholder="introducir nombre"> <br>
            <input type="number" id = "edat" name="edat" pattern="[0-9]" required placeholder="introducir edad"><br>
            <input type="email" id = "email" name="email" 
            pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$" required placeholder="introducir email"><br>
            Aceptar Politicas <input type="checkbox" id = "politicas" name="politicas" required> 

            <input type="submit" value="send">
<!-- >      <button> Enviar </button> Es equivalente al input submit<-->

        </form>
        <script>

            function lanzarEscucha ($nameElemento,$mensaje) {

            let miInput = document.getElementById ($nameElemento)
            console.log (miInput.value)
            miInput.addEventListener('input',() => { 
                miInput.setCustomValidity('')
                miInput.checkValidity()
                console.log(" validaciÃ³n para "+ miInput.name+ " "+ miInput.validity)

                })
           
            miInput.addEventListener('invalid',() => {
                console.log(miInput.validity)
                let $mensaje = ""
            //    if this.validity.inputMissing { let $mensaje = "Campo Obligatorio";}
            //    if this.validity.inputMissing { let$mensaje = "Campo Obligatorio";}
                
                miInput.setCustomValidity($mensaje)
                })
            }




            lanzarEscucha('name','Campo Obligatorio. Introduzca solo letras')
            lanzarEscucha('edat','Campo Obligatorio. Introduzca solo numeros')
            lanzarEscucha('email','Formato incorrecto')
            lanzarEscucha ('politicas','Confirme politicas') 



        </script>
    </body>

</html>